#!/usr/bin/env bash

# ============================================================
# Dev-Infra Project Environment Configuration
# ============================================================

export PROJECT_NAME="dev-infra"
export PROJECT_ROOT="~/Development/Projects/dev-infra"

# Detect Docker socket (OrbStack, Docker Desktop, Colima, etc.)
detect_docker_socket

# ============================================================
# 1Password Secret Integration
# ============================================================
op_export GITHUB_TOKEN "op://Developer/kelwwyjxkdxlj2rlcw6u6h3kxm/password"
# GitKraken item not found in Developer vault.
# op_export GITKRAKEN_TOKEN "op://Developer/GitKraken/credential"
op_export OPENAI_API_KEY "op://Developer/rizntkrhhyfpugtdw5peofzi3i/api_key"
op_export GOOGLE_STITCH_API_KEY "op://Developer/Google Stitch API Key/credential"

# ============================================================
# Docker Compose Configuration
# ============================================================
export DC_LOG_LEVEL="info"
export DC_CONFIG_DIR="$PROJECT_ROOT/config"

# ============================================================
# MCP Configuration
# ============================================================
export MCP_PROJECT_ROOT="$PROJECT_ROOT"
export MCP_CONFIG_DIR="$PROJECT_ROOT/.antigravity"

echo "âœ… Loaded dev-infra environment"
echo "   PROJECT_ROOT: $PROJECT_ROOT"
echo "   DOCKER_HOST: ${DOCKER_HOST:-not set}"
# Gemini item not found in Developer vault.
# op_export GEMINI_API_KEY "op://Developer/Gemini/api_key"
