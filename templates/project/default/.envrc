# direnv configuration for {{PROJECT_NAME}}
# Loads automatically when entering directory

# Source dev-infra environment if available
if [ -f ~/.config/dev-infra/env.sh ]; then
    source ~/.config/dev-infra/env.sh
fi

# Add local bin to PATH
PATH_add bin
PATH_add scripts
PATH_add node_modules/.bin

# Project identity
export PROJECT_NAME="{{PROJECT_NAME}}"
export PROJECT_ROOT="$PWD"

# Node.js settings
export NODE_ENV="${NODE_ENV:-development}"

# Helper function to get secrets
get_secret() {
    dev-infra secret "$1" 2>/dev/null || op read "$1"
}
export -f get_secret

# Load .env if present (for non-secret config)
dotenv_if_exists .env
